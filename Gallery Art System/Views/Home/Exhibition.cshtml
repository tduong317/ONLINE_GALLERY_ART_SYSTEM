@model IEnumerable<Gallery_Art_System.Models.Exhibition>
@using System.Globalization
@{
    ViewData["Title"] = "Exhibition";
}
<div class="banner-ex">
    <h1>Exhibitions</h1>
    <p><a href="/">Home </a>/<a asp-controller="Home" asp-action="Exhibition"> Exhibitions</a></p>
</div>
<section class="event-filter-bar">
    <div class="container event-filter-container">
        <div class="search">
            <div class="search-section">
                <form asp-controller="Home" asp-action="Exhibition" method="get" class="d-flex">
                    <input type="text" name="query" class="search-input" placeholder="Search for exhibitions"
                           value="@ViewBag.Query" />
                    <button type="submit" class="find-btn">Find Events</button>
                </form>
            </div>
        </div>       
    </div>
</section>

<section class="events-list">
    <div class="container events">
        <div class="month-label">
            @DateTime.Now.ToString("MMMM yyyy", CultureInfo.CreateSpecificCulture("en-US"))
        </div>
        @foreach(var exh in Model){


        <div class="event-item">
            <div class="event-date">
                <div class="weekday">@exh.StartDate?.ToString("ddd")?.ToUpper()</div>
                <div class="day">@exh.StartDate?.Day</div>
            </div>
            <div class="event-info">
                <div class="event-period">@exh.StartDate - @exh.EndDate</div>
                <h2 class="event-title">@exh.Name</h2>
                <div class="event-location">@exh.Location</div>
                <div class="event-desc">
                        <p>@Html.Raw(exh.Description)</p>
                </div>
            </div>
            <div class="event-image">
                <img src="@exh.ImageUrl" alt="Caravaggio Painting" />
            </div>
        </div>
        }

        <!-- Bạn có thể copy block .event-item để thêm nhiều sự kiện khác -->

    </div>

</section>

<!-- Pagination -->
<div class="pagination">
    <nav class="pagination-container">
        <ul class="pagination">
            @if (Model is X.PagedList.IPagedList<Gallery_Art_System.Models.Exhibition> pagedList)
            {
                <!-- Nút Prev -->
                <li class="page-item @(pagedList.HasPreviousPage ? "" : "disabled")">
                    <a href="@(pagedList.HasPreviousPage? Url.Action("Exhibition", new { page = pagedList.PageNumber - 1, query = ViewBag.Query }) : "#")" class="page-link">
                        « Prev
                    </a>
                </li>

                <!-- Danh sách số trang -->
                @for (int i = 1; i <= pagedList.PageCount; i++)
                {
                    <li class="page-item @(i == pagedList.PageNumber ? "active" : "")">
                        <a href="@Url.Action("Exhibition", new { page = i, query = ViewBag.Query })" class="page-link">@i</a>
                    </li>
                }

                <!-- Nút Next -->
                <li class="page-item @(pagedList.HasNextPage ? "" : "disabled")">
                    <a href="@(pagedList.HasNextPage? Url.Action("Exhibition", new { page = pagedList.PageNumber + 1, query = ViewBag.Query }) : "#")" class="page-link">
                        Next »
                    </a>
                </li>
            }
            else
            {
                <!-- Nếu model không có phân trang -->
                <li class="page-item active">
                    <a href="#" class="page-link">1</a>
                </li>
            }
        </ul>
    </nav>
</div>




